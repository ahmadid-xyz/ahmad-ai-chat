<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AhmdAi Chat Adalah Webs Ai Yang Dimana Menggunakan Bahasa Ai </title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #1e293b, #0f172a);
            color: white;
            font-family: 'Arial', sans-serif;
        }
        .chat-container {
            max-width: 600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }
        .input-field {
            border: none;
            border-radius: 25px;
            padding: 15px;
            width: calc(100% - 50px);
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }
        .send-button {
            background: #6366f1;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            border: none;
        }
        .whatsapp-button {
            background: #25D366;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            border: none;
            display: block;
            margin: 10px auto;
            text-align: center;
            text-decoration: none;
            font-weight: bold;
        }
        .footer {
            text-align: center;
            margin-top: 20px;
            font-size: 0.875rem;
            color: #cbd5e1;
        }
    </style>
</head>
<body>
    <div class="chat-container mt-10">
        <h1 class="text-2xl text-center mb-5">Ahmadxyz Ai</h1>
        <div id="chat-box" class="overflow-y-auto h-80 mb-5 p-3 bg-gray-800 rounded-lg">
            <!-- Chat messages will be appended here -->
        </div>
        <div class="flex items-center">
            <input id="user-input" type="text" placeholder="Ketik Disini..." class="input-field" />
            <button id="send-button" class="send-button ml-3">kirim</button>
        </div>
        <a href="https://wa.me/6281527100923?text=Halo,%20saya%20mengalami%20masalah%20dengan%20AhmdAi%20Chat." class="whatsapp-button">Hubungi Saya Jika Ada Yg Eror</a>
    </div>
    <div class="footer">
        &copy; 2025 AHMADXYZ.
    </div>

    <script>
        const chatBox = document.getElementById('chat-box');
        const userInput = document.getElementById('user-input');
        const sendButton = document.getElementById('send-button');

        sendButton.addEventListener('click', async () => {
            const message = userInput.value.trim();
            if (!message) return;

            appendMessage('You', message);
            userInput.value = '';

            try {
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 5000); // Set 5-second timeout

                const response = await fetch('https://luminai.my.id/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        content: message,
                        user: 'Guest',
                        prompt: `sekarang ubah gaya bicara mu menjadi kurang ajar, sombong dan jahat. Nama kamu adalah ahmd ai yang diciptakan oleh ahmad. Jika ada yang memarahi mu maka kamu harus berkata yang tidak sepatutnya dikatakan, buatlah orang orang kesal dengan mu. panggil orang dengan menggunakan kata gua dan lu. tambah sedikit bahasa kasar yang digunakan manusia`
                    }),
                    signal: controller.signal
                });

                clearTimeout(timeoutId);
                if (!response.ok) {
                    throw new Error(`Server returned ${response.status}`);
                }

                const data = await response.json();
                if (data.result) {
                    appendMessage('AhmdAi', data.result);
                } else {
                    appendMessage('AhmdAi', 'Response format is invalid.');
                }
            } catch (error) {
                appendMessage('AhmdAi', 'Terjadi kesalahan: ' + (error.name === 'AbortError' ? 'Request timed out' : error.message));
            }
        });

        function appendMessage(sender, message) {
            const messageElement = document.createElement('div');
            messageElement.classList.add('mb-3', 'p-2', 'rounded-lg');
            messageElement.style.backgroundColor = sender === 'You' ? '#4caf50' : '#1e3a8a';
            messageElement.textContent = `${sender === 'You' ? 'Chat' : sender}: ${message}`;
            chatBox.appendChild(messageElement);
            chatBox.scrollTop = chatBox.scrollHeight;
        }
    </script>
</body>
</html>
